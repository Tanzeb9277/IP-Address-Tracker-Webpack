(()=>{"use strict";const e="at_Kee8Nw34N8nYDKs7cSvgd1P5rnQND",t="8avEkvZ+W8PykgjhBebHeA==PtfHw7ZRbhatM8PZ",o=document.querySelector(".search-btn"),n=document.getElementById("ip-address"),i=document.getElementById("location"),a=document.getElementById("time-zone"),c=document.getElementById("isp"),r=L.icon({iconUrl:"images/icon-location.svg",iconSize:[32,38],iconAnchor:[22,94],popupAnchor:[-3,-76]});async function p(o="8.8.8.8"){console.log("https://geo.ipify.org/api/v2/country?apiKey="+e+"&"+o);let p=await fetch("https://geo.ipify.org/api/v2/country?apiKey="+e+"&ipAddress="+o),l=await p.json();console.log(l),n.innerHTML=l.ip,i.innerHTML=l.location.region+", "+l.location.country,a.innerHTML=l.location.timezone,c.innerHTML=l.isp,async function(e,o){let n=await fetch("https://api.api-ninjas.com/v1/geocoding?city="+e+"&country="+o,{method:"GET",headers:{"X-Api-Key":t,"Content-Type":"application/json"}}),i=await n.json();console.log(i),document.querySelector(".map").innerHTML="<div id='map' style='width: 100%; height: 100%;'></div>";let a=L.map("map").setView([i[0].latitude,i[0].longitude],13);L.marker([i[0].latitude,i[0].longitude],{icon:r}).addTo(a),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(a)}(l.location.region,l.location.country)}p(),o.addEventListener("click",(()=>{let e=document.querySelector(".search-bar").value;console.log(e),p(e)}))})();